<?xml version="1.0" encoding="utf-8"?>
<odoo>

	<!-- Vista de Busqueda -->
	<record id="ct_proyecto_search_view" model="ir.ui.view">
		<field name="name">ct.proyecto.search</field>
		<field name="model">ct.proyecto</field>
		<field name="arch" type="xml">
			<search>
				<field name="name" />								
			</search>
		</field>

	</record>

	<!-- Vista Lista  -->
	<record id="ct_proyecto_tree_view" model="ir.ui.view">
		<field name="name">ct.proyecto.tree</field>
		<field name="model">ct.proyecto</field>
		<field name="arch" type="xml">
			<tree>
				<field name="name" />
				<field name="tipo_proyecto_id" />
				<field name="direccion" optional="hide"/>
				<field name="city_id" />
				<field name="circuito_id" />
				<field name="nivel_tension_id" />
				<field name="area" optional="hide"/>
				<field name="fecha_diseño" optional="hide"/>
				<field name="fecha_replanteo" optional="hide"/>
				<field name="fecha_ejecucion" optional="hide"/>
				<field name="notas" optional="hide"/>
			</tree>
		</field>
	</record>

	<!-- Vista Formulario -->
	<record id="ct_proyecto_form_view" model="ir.ui.view">
		<field name="name">ct.proyecto.form</field>
		<field name="model">ct.proyecto</field>
		<field name="arch" type="xml">
			<form>
				<sheet>
					<group col="4">
							<field name="name" />
							<field name="tipo_proyecto_id" options="{'no_create_edit': True, 'no_create': True}" />
							<field name="direccion" />
							<field name="city_id" options="{'no_create_edit': True, 'no_create': True}" />
							<field name="circuito_id" options="{'no_create_edit': True, 'no_create': True}"/>
							<field name="subestacion_id" attrs="{'invisible': [('circuito_id', '=', False)]}" />
							<field name="area" />
							<field name="nivel_tension_id" options="{'no_create_edit': True, 'no_create': True}" />
							<field name="contrato_id" options="{'no_create_edit': True, 'no_create': True}" />
							<field name="fecha_diseño" />
							<field name="fecha_replanteo" />
							<field name="fecha_ejecucion" />
							<field name="notas" />
					</group>

					<notebook colspan="6" name="info_complementaria">
						<page string="Equipo de Trabajo" name="equipo_trabajo">
							<field name="personal_ids" nolabel="1">
								<tree editable="bottom">
									<field name="rol" options="{'no_create_edit': True, 'no_create': True}"/>
									<field name="partner_id" domain="[('parent_id', '!=', False), ('is_company', '=', False)]"/>
									<field name="f_inicio" />
									<field name="f_fin" />
								</tree>
							</field>
						</page>
						<page string="Nodos" name="nodos">
							<field name="nodo_ids" nolabel="1">
								<field name="nodo_ids" />
							</field>
						</page>

						<page string="Seguimiento y Control" name="Visitas">
							<field name="seg_cont_ids" nolabel="1">
								<field name="seg_cont_ids" />
							</field>
						</page>	



						<page string="Maniobras" name="maniobra">
							<field name="maniobras_ids" nolabel="1">
								<tree editable="bottom">
									<field name="activo" />
									<field name="accion" />
									<field name="notas" />
								</tree>
							</field>
						</page>

					</notebook>					

				</sheet>
			</form>
		</field>
	</record>

	<!-- Accion del formulario -->
	<record id="ct_proyecto_action" model="ir.actions.act_window">
		<field name="name">PROYECTO</field>
		<field name="type">ir.actions.act_window</field>
		<field name="res_model">ct.proyecto</field>
		<field name="view_mode">tree,form</field>
	</record>

	<!-- menu de acceso -->
	 <menuitem id="ct_proyecto_menu" name="Proyecto" parent="merp_config_menu" action="ct_proyecto_action" />

</odoo>